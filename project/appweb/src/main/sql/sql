CREATE SCHEMA my AUTHORIZATION vasili;

CREATE TABLE my.student (
	id serial4 NOT NULL,
	"name" varchar NOT NULL,
	login varchar NOT NULL,
	"password" varchar NOT NULL,
	age int4 NOT NULL,
	CONSTRAINT student_pk PRIMARY KEY (id)
);

CREATE TABLE my.teacher (
	id serial4 NOT NULL,
	"name" varchar NOT NULL,
	login varchar NOT NULL,
	"password" varchar NOT NULL,
	age int4 NOT NULL,
	CONSTRAINT teacher_pk PRIMARY KEY (id)
);

CREATE TABLE my.grade (
	id serial4 NOT NULL,
	theme varchar NOT NULL,
	grade int4 NOT NULL,
	stuid int4 NULL
);
CREATE UNIQUE INDEX grade_id_uindex ON my.grade USING btree (id);

ALTER TABLE my.grade ADD CONSTRAINT grade_student_id_fk FOREIGN KEY (stuid) REFERENCES my.student(id) ON DELETE CASCADE;

CREATE TABLE my.salary (
	id serial4 NOT NULL,
	salary numeric NOT NULL,
	sid int4 NULL
);
CREATE UNIQUE INDEX salary_id_uindex ON my.salary USING btree (id);

ALTER TABLE my.salary ADD CONSTRAINT salary_teacher_id_fk_2 FOREIGN KEY (sid) REFERENCES my.teacher(id) ON DELETE CASCADE;

INSERT INTO my.student
(id, "name", login, "password", age)
VALUES(10003, 'Student', 'studentLogin', 'studentPass', 99);

INSERT INTO my.student
(id, "name", login, "password", age)
VALUES(10001, 'Bakke', 'bakke', '456', 25);

INSERT INTO my.student
(id, "name", login, "password", age)
VALUES(10002, 'Jasmin', 'jasmin', '123', 22);

INSERT INTO my.teacher
(id, "name", login, "password", age)
VALUES(20003, 'Teacher', 'teacherLogin', 'teacherPass', 101);

INSERT INTO my.teacher
(id, "name", login, "password", age)
VALUES(20001, 'Fox', 'fox', '123', 46);

INSERT INTO my.teacher
(id, "name", login, "password", age)
VALUES(20002, 'Picasso', 'picasso', '456', 56);

INSERT INTO my.grade
(id, theme, grade, stuid)
VALUES(1, 'Sleeping', 88, 10003);

INSERT INTO my.grade
(id, theme, grade, stuid)
VALUES(2, 'Sleeping', 99, 10001);

INSERT INTO my.grade
(id, theme, grade, stuid)
VALUES(3, 'Sleeping', 80, 10002);

INSERT INTO my.salary
(id, salary, sid)
VALUES(5, 2156, 20003);

INSERT INTO my.salary
(id, salary, sid)
VALUES(1, 2000, 20001);

INSERT INTO my.salary
(id, salary, sid)
VALUES(2, 4444, 20002);
